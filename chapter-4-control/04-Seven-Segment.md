<img src="./header.png" />

# 7세그먼트 숫자 출력

> [!NOTE]
> 이 문서는 **7세그먼트 표시 장치(7-Segment Display)**를 사용하여 0부터 9까지의 숫자를 출력하는 실습에 대해 설명합니다.

## 1. 실습 목표

> 7세그먼트의 각 LED를 제어하여 원하는 숫자를 표시하는 원리를 이해하고, 0부터 9까지 순차적으로 숫자가 증가하는 프로그램을 작성합니다.

<img src="./src/7segment_circuit.png" />

> 7세그먼트(공통 양극) 회로 구성 예시

### 준비물

- 아두이노 우노
- 브레드보드
- 7세그먼트 표시 장치 (1자리, 공통 양극 또는 공통 음극)
- 220Ω 저항 8개 (또는 저항 어레이)
- 점퍼 와이어

## 2. 7세그먼트란?

> 7개의 LED 막대(a~g)와 소수점(dp)용 LED 1개를 조합하여 숫자나 간단한 문자를 표시하는 부품입니다. 각 LED를 개별적으로 켜고 꺼서 원하는 모양을 만듭니다.

<img src="./src/7segment_pins.png" />

- **공통 양극 (Common Anode)**: 모든 LED의 양극(+)이 하나로 묶여 VCC에 연결. 각 세그먼트 핀에 LOW 신호를 주면 해당 LED가 켜짐.
- **공통 음극 (Common Cathode)**: 모든 LED의 음극(-)이 하나로 묶여 GND에 연결. 각 세그먼트 핀에 HIGH 신호를 주면 해당 LED가 켜짐.

## 3. 회로 구성 (공통 양극 기준)

1. 7세그먼트의 공통 핀(COM)을 아두이노 **5V**에 연결합니다.
2. 7세그먼트의 각 핀(a~g, dp)을 220Ω 저항을 거쳐 아두이노 디지털 핀 2번부터 9번까지 순서대로 연결합니다.

| 세그먼트 | 아두이노 핀 |
|---|---|
| a | 2 | b | 3 | c | 4 | d | 5 |
| e | 6 | f | 7 | g | 8 | dp | 9 |

## 4. 코드 작성

> 2차원 배열을 사용하여 각 숫자에 대한 세그먼트 ON/OFF 정보를 저장하고, 이를 이용해 숫자를 표시합니다.

```cpp
// 7세그먼트 핀 (a, b, c, d, e, f, g, dp)
int segmentPins[] = {2, 3, 4, 5, 6, 7, 8, 9};

// 숫자별 세그먼트 데이터 (공통 양극: 0=ON, 1=OFF)
byte numbers[10][8] = {
  {0,0,0,0,0,0,1,1}, // 0
  {1,0,0,1,1,1,1,1}, // 1
  {0,0,1,0,0,1,0,1}, // 2
  {0,0,0,0,1,1,0,1}, // 3
  {1,0,0,1,1,0,0,1}, // 4
  {0,1,0,0,1,0,0,1}, // 5
  {0,1,0,0,0,0,0,1}, // 6
  {0,0,0,1,1,1,1,1}, // 7
  {0,0,0,0,0,0,0,1}, // 8
  {0,0,0,0,1,0,0,1}  // 9
};

void setup() {
  for (int i = 0; i < 8; i++) {
    pinMode(segmentPins[i], OUTPUT);
  }
}

void loop() {
  for (int i = 0; i < 10; i++) {
    displayNumber(i);
    delay(1000);
  }
}

// 숫자를 표시하는 함수
void displayNumber(int num) {
  for (int i = 0; i < 8; i++) {
    digitalWrite(segmentPins[i], numbers[num][i]);
  }
}
```
